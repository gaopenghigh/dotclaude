// Query all node-related events including auto-repair triggers
let qFrom = datetime("2026-01-14T00:00:00Z");
let qTo = datetime("2026-01-19T12:00:00Z");
let qCCP = "67e347c35b89890001621aeb";
AKSKubeEvents
| where PreciseTimeStamp between (qFrom .. qTo)
| where cluster_id == qCCP
| where kind == "Node"
| where reason in ("NodeReady", "NodeNotReady", "NodeReimageStart", "NodeReimageEnd", "NodeReboot", "Starting", "NodeHasSufficientMemory", "NodeHasSufficientPID", "NodeHasNoDiskPressure", "RegisteredNode", "RemovingNode")
    or reportingController == "aks-auto-repair"
| project PreciseTimeStamp, reason, name, message, reportingController, reportingInstance
| order by PreciseTimeStamp asc
